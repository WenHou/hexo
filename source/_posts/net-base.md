---
title: 计算机网络基础概念
date: 2019-09-01 11:38:17
tags:
---
### OSI

    应用层
        为应用程序提供网络服务，传输纠错、数据完整性保证等
    表示层
        处理通讯系统交互信息的表示方式，数据格式编码、数据加密、解密、压缩、恢复等
    会话层
        维持传输链接的不中断，管理数据交换
    传输层
        端到端服务，数据包错误处理，数据包次序处理，进程间的传输，对上层屏蔽下层数据通讯细节
    网络层
        路由算法，创建逻辑链路，拥塞控制，网络互连
        两种：有链接可靠服务、无连接不可控服务
    链路层
        实体之间建立数据链路连接，打包 => 定义 帧 传输：帧头 + 数据 + 帧尾
        差错控制 + 流量控制
    物理层
        节点（设备）之间的 比特 透明传输


### TCP/IP: 侧重于网络互连、解决硬件异构问题

    应用层
        （应用层 + 表示层 + 会话层）
        远程登录 Telnet
        文件传输 FTP
        简单邮件传输 SMTP
        域名系统 DNS
        简单网络管理 SNMP
        超文本传输 HTTP
        地址动态获取 DHCP

    传输层
        面向连接的 TCP 的可靠服务
        面向无连接的 UDP 的不可靠的服务

    网络层
        IP 协议是无连接的、“尽力而为”的服务
        无连接的 => 不可靠的

    网络接口层
        （链路层 + 物理层）
        网络发送+接收 IP 数据报
        允许主机使用多种网络协议：Ethernet、令牌网、分组交换网的 X.25、帧中继、ATM 等
        只有物理网可传输 IP 数据包即可


### 五层结构

    应用层/传输层/网络层/链路层/物理层

### 数据传输

    全双工、半双工、单工
    串行传输（数据服务单元 位）、并行传输（数据服务单元 N位）
    同步、异步

### 通讯基础

    信道：

        向某一方向传送信息的媒体
    数据：

        信息的承载实体
    信号：

        数据的电磁或电气表现
    带宽：

        媒介中信号可使用的最高频率和最低频率之差（频带的宽度）
        第二种定义：信道中数据的传送速率
        单位： HZ（赫兹）
         100M 带宽 => 100Mbps => 每秒可传输 100 * 10^6 个比特
    码元：

        在使用时间域（简称时域）的波形表示数字信号时，代表不同离散数值的基本波形
    波特：

        单位时间内传输的码元数
    比特率：

        单位时间内传输的比特数
    信息传输过程简述：

        信源 -> 信道 -> 信宿

    速率

        比特：二进制数字的一个 1 或 0
        数据的传输速率，也称为数据率（data rate）或比特率（bit rate）
        单位：bit/s, kbit/s(10^3), Mbit/s(10^6), Gbit/s(10^9),  bps 每秒多少位
        速率常指额定速率或标称速率，非实际运行速率

    吞吐量

        单位时间通过某网络（或信道、端口）的数据量
        带宽的利用率
        单位 B = 8bit
        eg，100Mbps带宽，吞吐量为 4MB/s=32Mbps，利用率 32%

    时延 delay/latency

        数据从一端到另一端所需时间
        发送时延

            传输时延
            发送数据时，数据帧从结点进入传输媒体所需要的时间
            一般产生在 网卡 上
            发送时延 = 数据帧长度（bit）/ 发送速率（bit/s）
        传播时延

            电磁波在信道中传播一定距离而花费的时间
            信号发送速率和信号在信道上的传播速率是完全不同的概念
            传播时延 = 信道长度（米）/ 信号在信道上的传播速率（米/秒）
            注：信号在信道上的传播速率，一般在计算机网络中常为 20W 公里/s
            和网络带宽没关系
        处理时延

            主机或者路由器在收到分组时，处理分组（分析首部、提前数据、差错检验、查找路由）所需时间
        排队时延

            分组在路由器输入输出队列中排队等待处理所需时间
            长取决于网络中当时的通信量

        总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延

        往返时间 RTT

            从发送数据开始到发送方接到对方确认信息的中世纪
            端到端的传播时延的两倍
            当使用卫星通信时，RTT 较长，是一个重要指标
            信道利用率

                某信道有百分之几的时间时被利用的
                完全空闲的信道利用率是 0
                信道利用率并非越高越好，信道利用率的增高，该信道引起的时延也会增高
            网络利用率

                全网信道利用率的加权平均值


    奈奎斯特定理

        调制速率（也称码元速率、波形速率或型号速率）：每秒总发送信号的数目，单位波特（baud）
        数据传输率为每秒发送的二进制位数（信道在单位时间内可以传输的最大 bit 数），单位 bos（每秒位）
        无噪声 下的码元速率极限值 B 与信道带宽 H (单位 Hz)关系：最大数据传输率 B=2*H(Baud)
        奈奎斯特公式 -- 无噪信道传输能力公式：
            c = 2 * H log2N (bps)   =>   c = B * log2N (bps)
            N 为一个码元所取的离散值个数, 一个码元：基础情况即一个波形，表示一个二进制数 => 一个码元的离散值得个数为 2（即两个波形：正弦）
            所以在不增加码元的离散值情况下只能通过增加带宽增加最大数据传输率
        波特率（信道速率）：指调制设备每秒可调制的符号个数，即信道上每秒传输的符号个数
        假设调制设备采用调幅调制技术 => 调制出多种波形 => 码元离散值个数增加 => 带宽不变，数据最大传输速率增加
        波特率和数据传输速率之间关系
            数据传输速率 = 波特率 * log2N
            N 为每个符号的取值个数，或可调制的线路状态数（量化等级）

    香农定理

        噪声是随机产生的，所以瞬时值有时很大
        噪声会使接收端对码元的判决产生错误
        信噪比
            信号的平均功率和噪声的平均功率比
            记为 S/N，度量单位分贝（dB）
            信噪比 = 10 lg(S/B) (dB),   eg: S/N = 10 时，信噪比为 10（dB），当 S/N = 1000 时，信噪比为 30（dB）
            S 为信号功率，N 为噪声功率

        香农公式 -- 带噪信道容量公式：
            c = H * log2(1+S/N) (bps)

    编码与调制

        基带传输：把数字信号频谱中，从直流（零频）开始到能量集中的一段频率范围称为基本频带（或固有频带），简称为基带
        数字信号也称为数字基带信号，简称基带信号（基本频带信号）-- 来自信源的信号
        基带信号往往包含较多的低频成分 ，甚至直流成分，而许多信道不能传输这种低频、直流分量 => 必须对基带信号进行调制
        
        调制

            基带调制

                仅对基带信号的波形进行变换，使它能够与信道特性相适应
                变换后的信号仍然是基带信号，成为 编码
            带通调制

                使用载波（carrier）进行调制，把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，则能更好的在模拟信道中传输
                （即仅在一段频率范围内能够通过信道）
            带通信号：经过载波调制后的信号

        常用编码方式

            不归零制：
                正电平为 1，负电平为 0
                （电平，是指两功率或电压之比的对数，有时也可用来表示两电流之比的对数。电平的单位分贝用dB表示。常用的电平有功率电平和电压电平两类，它们各自又可分为绝对电平和相对电平两种。）
            归零制：
                正脉冲为 1，负脉冲为 0
                （脉冲通常是指电子技术中经常运用的一种像脉搏似的短暂起伏的电冲击(电压或电流)。主要特性有波形、幅度、宽度和重复频率，脉冲是相对于连续信号在整个信号周期内短时间发生的信号，大部分信号周期内没有信号）
            曼彻斯特编码：
                位周期中心的向上跳变代表 0
                ~向下~为 1
                可反向定义
                （跳变 从高直接到底或者相反）
                产生的信号的频率比不归零高 2 倍，有自动同步功能
            差分曼彻斯特编码：
                在每一位的中心处始终都有跳变
                位开始边界有跳变为 0
                未开始边界没有跳变为 1
                产生的信号的频率比不归零高 2 倍，有自动同步功能


        调制

            最基本的二元制调制方法
                调频（AM）：载波的振幅随基带信号而变化
                调频（FM）：载波的频率随~
                调相（PM）：载波的初始相位~



    电路交换、报文交换与分组交换

        按数据传输技术划分
            电路交换网

                面向连接的
                建立一条连接 -> 传输数据 -> 释放连接
                通信双方独占连接
                连接建立需要一定时间
                若连接经过的节点和线路有空闲资源则允许建立，否则~
                适宜实时通信，eg：电话通信（早期的座机，pstn）
            报文交换网

                报文交换与节点的存储转发联系
                通信数据组成报文格式
                节点间传输的是报文
                节点接收报文 -> 存储 -> 根据线路情况决定向其他节点转发
                节点的存储转发需要时延
                报文是无连接的
                报文大小是不固定的
            分组交换网

                把报文分成长度固定的分组（为每个分出的数据都加上首部） -> 节点对分组进行存储转发
                每个分组都是对立发送的 => 并发发送 => 减少时延
                分组的大小比报文小很多
                时延小
                差错重传的数据量小
                采用流水线的方式传输
                可分为：
                    面向连接的 虚电路 分组交换
                    无连接的 数据报 分组交换
                互联网采用的方式

            数据报是报文交换的一种形式，是无连接的，分组数据可以通过子网中的不同路径抵达目标主机，从而提升速率，缺点是不可靠
            虚电路是可靠的无差错的按序到达的，需要首先建立一条虚拟逻辑连接（同一个物理链路可以同时建无数个虚电路），发出数据要携带虚电路好



